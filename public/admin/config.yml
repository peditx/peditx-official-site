backend:
  name: github
  repo: peditx/peditx-official-site      # Your repository name
  branch: main
  auth_type: implicit
  app_id: Ov23liMQ36VXRPwraTVC # Replace with your GitHub OAuth App Client ID

# Where media files (like images) will be stored
media_folder: "public/uploads"
public_folder: "/uploads"

# This is where we define what content is editable
collections:
  # Collection 1: Manages the single data.json file for the homepage
  # The structure is now corrected to use "files" which is an array
  - name: "homepage"
    label: "Homepage Content"
    files: # <-- This is the main correction. It must be "files" (plural).
      - label: "Page Data"
        name: "data"
        file: "public/data.json" # The path to the file goes here
        editor:
          preview: false
        fields: # The fields for editing the content of data.json
          - label: "Profile Info"
            name: "profile"
            widget: "object"
            fields:
              - { label: "Name", name: "name", widget: "string" }
              - { label: "Tagline", name: "tagline", widget: "string" }
              - { label: "Image URL", name: "imageUrl", widget: "string" }
              - { label: "Biography", name: "bio", widget: "markdown" }

          - { label: "SoundCloud Playlist URL", name: "soundcloudPlaylistUrl", widget: "string" }
          
          - label: "Social Links"
            name: "links"
            widget: "list"
            fields:
              - { label: "Name", name: "name", widget: "string" }
              - { label: "URL", name: "url", widget: "string" }
              - { label: "SVG Icon Code", name: "icon", widget: "text" }

          - label: "Projects"
            name: "projects"
            widget: "list"
            fields:
              - { label: "Project Name", name: "name", widget: "string" }
              - { label: "Description", name: "description", widget: "string" }
              - { label: "Icon URL", name: "iconUrl", widget: "string" }
              - { label: "URL", name: "url", widget: "string" }
              
          - label: "Videos"
            name: "videos"
            widget: "list"
            fields:
              - { label: "Title", name: "title", widget: "string" }
              - { label: "YouTube Video ID", name: "videoId", widget: "string" }
              - { label: "Thumbnail URL", name: "thumbnailUrl", widget: "string" }

  # Collection 2: Manages blog posts in a new "blog" folder (This part was already correct)
  - name: "blog"
    label: "Blog"
    folder: "src/content/blog" # A standard place for blog posts in Astro
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    fields:
      - { label: "Title", name: "title", widget: "string" }
      - { label: "Publish Date", name: "pubDate", widget: "datetime" }
      - { label: "Description", name: "description", widget: "string" }
      - { label: "Author", name: "author", widget: "string", default: "PeDitX" }
      - { label: "Cover Image", name: "image", widget: "object", fields: [
          { label: "Image URL", name: "url", widget: "string" },
          { label: "Alt Text", name: "alt", widget: "string" }
        ], required: false }
      - { label: "Tags", name: "tags", widget: "list", required: false }
      - { label: "Body", name: "body", widget: "markdown" }

